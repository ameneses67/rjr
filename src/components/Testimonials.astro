---
// Librerias
import { Image } from "astro:assets";

// Componentes
import Heading from "./elements/Heading.astro";
import TestimonioCard from "./hero/TestimonioCard.astro";

// Data
import { testimonios } from "../data/testimonials";

// Filtrar testimonios correspondientes
const testimoniosInicio = testimonios.filter(
  (testimonio) =>
    testimonio.pagina === "inicio" && testimonio.seccion === "testimonios",
);
---

<section class="max-w-4xl px-4 sm:px-6">
  <TestimonioCard classes="mx-auto mb-16 sm:mb-24 md:hidden max-w-md" />
  <Heading tagType="h2" hClass="h2" classes="mb-28 sm:mb-40 text-center">
    Lo que otros opinan
  </Heading>
  {
    testimoniosInicio.map((testimonio) => (
      <div class="relative mb-24 flex flex-col items-center gap-8 rounded-lg border border-slate-200 px-4 pb-8 text-center last:mb-0 dark:border-slate-800 sm:mb-48 sm:px-12">
        <Image
          src={testimonio.foto.src}
          alt={testimonio.foto.alt}
          format="avif"
          quality="mid"
          class="absolute h-24 w-24 -translate-y-1/2 rounded-full border border-slate-200 object-cover dark:border-slate-800 sm:h-48 sm:w-48"
        />
        <p class="mt-20 max-w-xl font-sans text-2xl sm:mt-32 sm:text-3xl">
          {testimonio.descripcion}
        </p>
        <p>
          <span class="font-bold text-indigo-500">{testimonio.nombre}</span> âˆ™
          {testimonio.ocupacion}
        </p>
      </div>
    ))
  }
</section>
